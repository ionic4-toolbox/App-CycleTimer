<!--
  Generated template for the BaseTemplatePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{item.TemplateName}} Study</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding class="content">
  <form #form="ngForm" (ngSubmit)="beginStudy(form, item.TemplateName)" novalidate>
    <ion-card class="card">
      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col col-4>
              <ion-label>Study Name</ion-label>
            </ion-col>
            <ion-col col-8>
              <ion-input class="borderInput" [(ngModel)]="form.StudyName" name="StudyName" required></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-label>Study Description</ion-label>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-textarea class="borderInput" [(ngModel)]="form.StudyDescription" name="StudyDescription" rows="3"></ion-textarea>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-4>
              <ion-label>Prepared For</ion-label>
            </ion-col>
            <ion-col col-8>
              <ion-input class="borderInput" [(ngModel)]="form.PreparedFor" name="PreparedFor" required></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-4>
              <ion-label>Prepared By</ion-label>
            </ion-col>
            <ion-col col-8>
              <ion-input class="borderInput" [(ngModel)]="form.PreparedBy" name="PreparedBy" required></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-4>
              <ion-label>Study Date</ion-label>
            </ion-col>
            <ion-col col-8>
              <ion-datetime displayFormat="MM/DD/YYYY" [(ngModel)]="studyDate" name="StudyDate"></ion-datetime>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <ion-card class="card">
      <ion-card-content>
        <ion-grid>

          <ion-row>
            <ion-col col-4>
              <ion-label>Material Type</ion-label>
            </ion-col>
            <ion-col col-8>
              <ion-select class="borderInput" [(ngModel)]="form.MaterialType" name="MaterialType">
                <ion-option *ngFor="let material of materialType">{{material.MaterialName}}</ion-option>
              </ion-select>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-label>Material Density</ion-label>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-row col-6>
              <ion-col>
                <ion-label>Lbs/BCY</ion-label>
              </ion-col>
              <ion-col>
                <ion-input class="borderInput" [(ngModel)]="form.MaterialDensityLbsBcy" name="MaterialDensityLbsBcy" type="number"></ion-input>
              </ion-col>
            </ion-row>

            <ion-row col-6>
              <ion-col>
                <ion-label>Lbs/BCY</ion-label>
              </ion-col>
              <ion-col>
                <ion-input class="borderInput" [(ngModel)]="form.MaterialDensityLbsLcy" name="MaterialDensityLbsLcy" type="number"></ion-input>
              </ion-col>
            </ion-row>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-label>Blast (Reference Only)</ion-label>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-textarea class="borderInput" [(ngModel)]="form.Blast" name="Blast" rows="2"></ion-textarea>
            </ion-col>
          </ion-row>

        </ion-grid>
      </ion-card-content>
    </ion-card>

    <dozing-type *ngIf="item.TemplateName== templates.TemplateDozing"></dozing-type>
    <drilling-type *ngIf="item.TemplateName == templates.TemplateDrilling"></drilling-type>
    <hauling-type *ngIf="item.TemplateName == templates.TemplateHaulingUnit"></hauling-type>
    <loading-type  *ngIf="item.TemplateName == templates.TemplateLoadingUnit"></loading-type>
    <hauling-full-cycle-type *ngIf="item.TemplateName == templates.TemplateHaulingUnitFullCycle"></hauling-full-cycle-type>
    <trenching-excavating-type *ngIf="item.TemplateName == templates.TemplateTrenching"></trenching-excavating-type>

    <ion-card class="card">
      <ion-card-header>
        <ion-label> Segments </ion-label>
      </ion-card-header>
      <ion-card-content>
        <ion-list >
          <ion-item *ngFor="let segments of listSegments">
            {{segments.name}}
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <ion-grid>
      <ion-row text-center>
        <ion-col col-12>
          <button ion-button round outline type="submit"> Begin Study </button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
